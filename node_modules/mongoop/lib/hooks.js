// TODO: add functionality for running hooks in series or parallel
module.exports = sethooks

function sethooks(schema, hooks) {
  hooks.forEach(e => {
    if (e[0] === 'pre') {
      schema = prehook(schema, e[1], e[2])
    }
    else {
      schema = posthook(schema, e[1], e[2])
    }
  })

  return schema
}

// assign a prehook to schema
function prehook(schema, action, callback) {
  return schema.pre(action, callback)
}

// assign a posthook to schema
function posthook(schema, action, callback) {
  return schema.post(action, callback)
}
